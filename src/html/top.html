<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/top.css" />
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Zen+Maru+Gothic:wght@700;900&display=swap" rel="stylesheet">
    <title>ピックアップガチャ</title>
  </head>
  <body>
    <div class="overlay"></div>
    <div class="container">
      <!-- 黒いオーバーレイ -->
      <div class="content">
        <img
          src="../images/hyousi2.png"
          alt="ピックアップガチャ"
          class="title"
        />
        <div class="buttonContent">
          <a class="gacha-button" onclick="playSoundAndRedirect('index.html')">ガチャを回す！</a>
          <a class="gacha-button" onclick="playSoundAndRedirect('stroyGenerate.html')">ストーリー生成</a>
        </div>
        <!-- ボタンをリンクに変更 -->
      </div>
    </div>
    <!-- 音追加 -->
    <audio id="clickSound">
      <source src="../css/pickup_coin_free-97175.mp3" type="audio/mpeg" />
      <source src="../css/pickup_coin_free-97175.ogg" type="audio/ogg" />
      Your browser does not support the audio element.
    </audio> 

    <script>
      // ボタンクリック時、サウンド再生後にURL移動
      function playSoundAndRedirect(url) {
        const audio = document.getElementById('clickSound');
        audio.volume = 1.0; // 音量
        audio.play().then(() => {
          // 再生後、画面遷移
          audio.onended = () => {
            window.location.href = url;
          };
        }).catch(error => {
          console.log("再生に失敗しました:", error);
          // エラー発生時にすぐ遷移
          window.location.href = url;
        });
      }
    </script>
  </body>
</html>
